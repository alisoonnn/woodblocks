$(document).ready(function(){gsap.registerPlugin(ScrollTrigger),gsap.matchMedia().add("(min-width: 767px)",()=>{var e;console.log("Desktop view"),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&((e=$("body")).length?(e.addClass("safari"),console.log("✅ Classe 'safari' ajoutée au <body>")):console.warn("❌ <body> introuvable")),[{selector:".moving-visual-1",minAmp:8,maxAmp:20},{selector:".moving-visual-2",minAmp:8,maxAmp:15},{selector:".moving-visual-3",minAmp:6,maxAmp:10},{selector:".date-location .date",minAmp:1,maxAmp:4},{selector:".date-location .brussels",minAmp:1,maxAmp:4},{selector:".date-location .vauxhall",minAmp:1,maxAmp:4}].forEach(({selector:e,minAmp:o=8,maxAmp:t=15})=>{let n=$(e),i=parseFloat(n.css("top"))||0,a=parseFloat(n.css("left"))||0,r=Math.max(o,Math.min(Math.random()*t,t)),s=Math.max(o,Math.min(Math.random()*t,t)),c=+Math.random()+.5,g=+Math.random()+.5,l=100*Math.random();!function e(){l+=.05;var o=Math.sin(l*c)*r,t=Math.cos(l*g)*s;n.css({top:i+t+"px",left:a+o+"px"}),requestAnimationFrame(e)}()});let n=$(".pattern-bckgrnd");function o(){var e=$(".container-home").outerHeight(),o=.8*$(window).height(),t=e-o;$(".wrapper-footer").css("height",t+"px"),console.log("Container height (px):",e),console.log("Two VH (px):",o),console.log("Footer height (px):",t)}function t(){var e=$(".container-lineup").outerHeight(),o=.95*$(window).height(),t=e-o;$(".wrapper-footer").css("height",t+"px"),console.log("Container height (px):",e),console.log("Two VH (px):",o),console.log("Footer height (px):",t)}function i(){var e=$(".safari .container-lineup").outerHeight(),o=.8*$(window).height(),t=e-o;$(".safari .wrapper-footer").css("height",t+"px"),console.log("Container height (px):",e),console.log("Two VH (px):",o),console.log("Footer height (px):",t)}function a(){var e=$(".container-artistes").outerHeight(),o=.9*$(window).height(),t=e-o;$(".wrapper-footer").css("height",t+"px"),console.log("Container height (px):",e),console.log("Two VH (px):",o),console.log("Footer height (px):",t)}function r(){var e=$(".safari .container-artistes").outerHeight(),o=.8*$(window).height(),t=e-o;$(".safari .wrapper-footer").css("height",t+"px"),console.log("Container height (px):",e),console.log("Two VH (px):",o),console.log("Footer height (px):",t)}$(window).on("mousemove",function(e){var o=$(window).width()/2,t=$(window).height()/2,o=(e.clientX-o)/o,e=(e.clientY-t)/t;gsap.to(n,{x:20*o,y:15*e,duration:.5,ease:"power3.out"})}),o(),$(window).on("resize",o),t(),$(window).on("resize",t),i(),$(window).on("resize",i),a(),$(window).on("resize",a),r(),$(window).on("resize",r),$(".reseau-sociaux a").each(function(){var e=$(this).attr("href");e&&"#"!==e||$(this).css("display","none")});let s=["https://cdn.prod.website-files.com/684ad0f81df4def404d2b318/68b811a164df6c8fb3e09243_WB25-timetable.webp","https://cdn.prod.website-files.com/684ad0f81df4def404d2b318/68b811a1443b103abf0b8c87_WB25-timetable2.webp","https://cdn.prod.website-files.com/684ad0f81df4def404d2b318/68b811a17503553596017f26_WB25-timetable3.webp"],c=0;window.openLightbox=function(e){c=e,$("#lightbox-img").attr("src",s[c]),$("#current-image").text(c+1),$("#lightbox").addClass("active"),$("body").css("overflow","hidden")},window.closeLightbox=function(e){e&&$(e.target).hasClass("lightbox-content")||($("#lightbox").removeClass("active"),$("body").css("overflow","auto"))},window.changeImage=function(e){(c-=e)>=s.length?c=0:c<0&&(c=s.length-1),$("#lightbox-img").attr("src",s[c]),$("#current-image").text(c+1)},window.changeImageArrow=function(e){(c+=e)>=s.length?c=0:c<0&&(c=s.length-1),$("#lightbox-img").attr("src",s[c]),$("#current-image").text(c+1)},$("#lightbox").on("click",function(e){closeLightbox(e)}),$(".close").on("click",function(){closeLightbox()}),$(".prev").on("click",function(){changeImage(-1)}),$(".next").on("click",function(){changeImage(1)}),$(".lightbox-content").on("click",function(e){e.stopPropagation()}),$(document).on("keydown",function(e){if($("#lightbox").hasClass("active"))switch(e.key){case"Escape":closeLightbox();break;case"ArrowLeft":changeImageArrow(-1);break;case"ArrowRight":changeImageArrow(1)}}),$(".img-timetable img").on("click",function(){var e=$(this).index();openLightbox(e)}),ScrollTrigger.create({trigger:".home-section-2",start:"-6% top",end:"1000% top",toggleClass:{targets:".wrapper",className:"in-menu"}}),ScrollTrigger.create({trigger:".home-section-2",start:"3% top",end:"1000% top",toggleClass:{targets:".bg-color-header",className:"in-menu"}}),ScrollTrigger.create({trigger:".home-section-2",start:"3% top",end:"1000% top",toggleClass:{targets:".home-section-1",className:"in-menu"}}),gsap.to(".bg-color-header",{opacity:1,scrollTrigger:{trigger:".home-section-2",start:"5% top",end:"1000% top",toggleActions:"play none none reverse"}}),gsap.to(".lieu-dans-menu",{opacity:1,scrollTrigger:{trigger:".home-section-2",start:"5% top",end:"1000% top",toggleActions:"play none none reverse"}}),gsap.to(".date-dans-menu",{opacity:1,scrollTrigger:{trigger:".home-section-2",start:"5% top",end:"1000% top",toggleActions:"play none none reverse"}})})});